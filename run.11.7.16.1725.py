import numpy as np
cr=np.loadtxt('/home/rumbaugh/sdss-poss_release.dat',dtype={'names':('ra','dec','plateID','EpochG','EpochR','EpochI','G_POSS','G_ERR','G_GOOD','R_POSS','R_ERR','R_GOOD','I_POSS','I_ERR','I_GOOD','SDR7ID','M_i','redshift','mbh','lbol','A_u','nobs','s82flag','mjd_r_SDSS','g_SDSS','g_ERR','r_SDSS','r_ERR','i_SDSS','i_ERR'),'formats':('f8','f8','|S12','|S12','|S12','|S12','f8','f8','f8','f8','f8','f8','f8','f8','f8','|S12','f8','f8','|S12','|S12','|S12','|S12','|S12','f8','f8','f8','f8','f8','f8','f8')})
newcr=np.zeros(np.shape(cr)[0],dtype=[('rownum','i8'),('ra', '<f8'), ('dec', '<f8'), ('plateID', 'S12'), ('EpochG', 'S12'), ('EpochR', 'S12'), ('EpochI', 'S12'), ('G_POSS', '<f8'), ('G_ERR', '<f8'), ('G_GOOD', '<f8'), ('R_POSS', '<f8'), ('R_ERR', '<f8'), ('R_GOOD', '<f8'), ('I_POSS', '<f8'), ('I_ERR', '<f8'), ('I_GOOD', '<f8'), ('SDR7ID', 'S12'), ('M_i', '<f8'), ('redshift', '<f8'), ('mbh', 'S12'), ('lbol', 'S12'), ('A_u', 'S12'), ('nobs', 'S12'), ('s82flag', 'S12'), ('mjd_r_SDSS', '<f8'), ('g_SDSS', '<f8'), ('g_ERR', '<f8'), ('r_SDSS', '<f8'), ('r_ERR', '<f8'), ('i_SDSS', '<f8'), ('i_ERR', '<f8')])
newcr['rownum']=np.arange(len(cr))
for name in cr.dtype.names: newcr[name]=cr[name]
np.savetxt('/home/rumbaugh/SDSSPOSS_RELEASE.csv',newcr,fmt='%i,%f,%f,%s,%s,%s,%s,%f,%f,%f,%f,%f,%f,%f,%f,%f,%s,%f,%f,%s,%s,%s,%s,%s,%f,%f,%f,%f,%f,%f,%f',header='SP_ROWNUM,ra,dec,plateID,EpochG,EpochR,EpochI,G_POSS,G_ERR,G_GOOD,R_POSS,R_ERR,R_GOOD,I_POSS,I_ERR,I_GOOD,SDR7ID,M_i,redshift,mbh,lbol,A_u,nobs,s82flag,mjd_r_SDSS,g_SDSS,g_SDSS_ERR,r_SDSS,r_SDSS_ERR,i_SDSS,i_SDSS_ERR',comments='')
